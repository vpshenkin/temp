import{v as fromConstant$,f as available}from"./2252f97c.js";import"react";import{e as ensure,r as toFriendlyId}from"./e81b9882.js";import{c as asProperty}from"./0ad2390d.js";import"./3cf8690e.js";import"./0e7164f2.js";import"big.js";import"./e4677d80.js";import"./275ae0e7.js";import"./449717b5.js";import"./dc685e13.js";import{c as getSubscribedObjectState$}from"./194b06f4.js";import"./006f2130.js";import"./dd6506a6.js";import{g as getServerPagedList$}from"./5f91b5c0.js";const XPathObjectListProperty=asProperty((config,store,widgetId)=>getServerPagedList$(config,store,widgetId,config.useScope?getSubscribedObjectState$(store,ensure(config.scope)):fromConstant$(available(void 0)),(async function(parameter,{offset:offset,limit:limit}){var _a;const contextGuid=null==parameter?void 0:parameter.getGuid();!function(contextGuid){const friendlyId=toFriendlyId(widgetId);mx.logger.debug(contextGuid?`Fetching data using XPath with context '${contextGuid}' and queryId '${config.queryId}' for widget ${friendlyId}`:`Fetching data using XPath with queryId '${config.queryId}' for widget ${friendlyId}`)}(contextGuid);const result=await mx.onlineData.retrieveByXpath(config.queryId,contextGuid,"",{offset:offset,amount:limit,sort:null!==(_a=config.sort)&&void 0!==_a?_a:[]});return function(objects){mx.logger.debug(`Received ${objects.length} objects for widget ${toFriendlyId(widgetId)}`,"object ids:",objects.map(mxobj=>mxobj.getGuid()))}(result.mxobjs),result})));export{XPathObjectListProperty};
