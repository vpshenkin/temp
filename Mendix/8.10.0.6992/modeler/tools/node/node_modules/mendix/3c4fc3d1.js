import{k as fromComputation$,x as flatMapL,D as getOrCrashL,u as unavailable,f as available}from"./2252f97c.js";import{A as Access}from"./449717b5.js";import{c as getSubscribedObjectState$,g as getByPath$,a as getAttribute$}from"./194b06f4.js";import{w as withObjectSharing$}from"./006f2130.js";function getDocumentPath$(name,scope,path,store,widgetId,needsAccessToChangedDate,showAsThumbnail){const rootObject$=getSubscribedObjectState$(store,scope),object$=path?getByPath$(rootObject$,path):rootObject$,sharedObject$=withObjectSharing$(object$,store,widgetId),hasContents$=getAttribute$(sharedObject$,"HasContents"),changedDate$=getAttribute$(sharedObject$,"changedDate");return fromComputation$(name,()=>flatMapL(sharedObject$.dependOn(),obj=>{var _a,_b;const hasContents=getOrCrashL(hasContents$.dependOn()),changedDate=getOrCrashL(changedDate$.dependOn());return hasContents.access!==Access.None&&hasContents.value?needsAccessToChangedDate&&changedDate.access===Access.None?unavailable():available(mx.data.getDocumentUrl(obj.getGuid(),null!==(_b=null===(_a=changedDate.access!==Access.None?changedDate.value:void 0)||void 0===_a?void 0:_a.getTime())&&void 0!==_b?_b:"",!!showAsThumbnail)):unavailable()}))}export{getDocumentPath$ as g};
